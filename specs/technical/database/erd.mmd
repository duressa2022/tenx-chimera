erDiagram
    %% Relational / Transactional (PostgreSQL)
    ORGANIZATION ||--o{ USER : contains
    ORGANIZATION ||--o{ INFLUENCER : manages
    ORGANIZATION ||--o{ CAMPAIGN : runs
    ORGANIZATION ||--o{ BILLING_RECORD : billed_to
    
    INFLUENCER ||--o{ CONTENT : creates
    CONTENT ||--o{ PUBLISH_EVENT : triggers
    
    %% Time-Series (TimescaleDB)
    CONTENT ||--o{ VIDEO_RENDER_LOG : logs_render
    INFLUENCER ||--o{ PERFORMANCE_TELEMETRY : tracks_performance
    CONTENT ||--o{ PERFORMANCE_TELEMETRY : tracks_engagement
    
    %% Vector / RAG (Weaviate)
    INFLUENCER ||--|| AGENT_PERSONA : defined_by
    INFLUENCER ||--o{ SEMANTIC_MEMORY : remembers
    
    %% Governance
    ORGANIZATION ||--o{ AUDIT_LOG : tracks_actions
    USER ||--o{ AUDIT_LOG : performs
    
    ORGANIZATION {
        string org_id PK
        string name
        string subscription_tier
    }

    USER {
        string user_id PK
        string org_id FK
        string email
        string role
    }

    INFLUENCER {
        string influencer_id PK
        string org_id FK
        string persona_name
        string status
    }

    CAMPAIGN {
        string campaign_id PK
        string org_id FK
        string name
        float budget_limit
    }

    BILLING_RECORD {
        string invoice_id PK
        string org_id FK
        float amount
        string status
        string transaction_hash
    }

    CONTENT {
        string content_id PK
        string influencer_id FK
        string content_type
        string approval_status
    }

    VIDEO_RENDER_LOG {
        datetime timestamp PK
        string content_id FK
        int duration_ms
        float compute_cost
    }

    PERFORMANCE_TELEMETRY {
        datetime timestamp PK
        string entity_id FK
        string metric_name
        float metric_value
    }

    AGENT_PERSONA {
        string influencer_id PK
        string persona_name
        string vocal_style
    }

    SEMANTIC_MEMORY {
        string memory_id PK
        string influencer_id FK
        string content
        float importance
    }

    AUDIT_LOG {
        string audit_id PK
        string org_id FK
        string actor_id FK
        string action_type
        datetime occurred_at
    }
