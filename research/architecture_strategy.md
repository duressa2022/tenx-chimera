# Architecture Strategy: The Chimera Stack

## Vision
To build a "Trillion Dollar" agentic architecture that prioritizes **provenance, intent, and autonomous recovery** over simple code execution.

## 1. The Plan-Code-Review Loop
We will explicitly implement the **Plan -> Code -> Review** cycle for all influencer activities:
- **Planner:** Generates a structured JSON task graph.
- **Worker:** Executes isolated tool calls (MCP).
- **Judge:** Reviews output against `SOUL.md` and safety guardrails.

## 2. Intent-Based Version Control
Following the trend identified by a16z and Gitbutler:
- Every change made by an agent MUST be tagged with a `prompt_id` and `intent_summary`.
- `state_version` (from our OCC protocol) will serve as the ledger for ensuring intent matches the committed branch.

## 3. Sandboxed Execution (Multi-Stage)
To mitigate "OpenClaw-style" vulnerabilities:
- **Analysis Stage:** Agents run analysis code (e.g., trend data parsing) in ephemeral E2B-style sandboxes.
- **Commit Stage:** No code generated by an agent can touch the production codebase without falling through a Judge-validation layer and human HITL review (if score < 0.90).

## 4. LLM-Centric Documentation
- We will maintain a `.chimera/rules` directory containing "Manuals for Agents".
- These manuals will be optimized for semantic retrieval by the Planner during the "Plan" phase.
